{
  "version": 3,
  "sources": ["../../../src/index.js"],
  "sourceRoot": "C:\\Users\\paula\\OneDrive - Vrije Universiteit Brussel\\Desktop\\GitHub\\VLIR_SI_EC_2025-2027\\andesaware-ecowitt\\.wrangler\\tmp\\deploy-nPDo2H",
  "sourcesContent": ["export default {\r\n  async fetch(request, env) {\r\n    const url = new URL(request.url);\r\n    const path = url.pathname;\r\n\r\n    // --- CORS (apex + www)\r\n    const ALLOW = new Set([\"https://andesaware.com\", \"https://www.andesaware.com\"]);\r\n    const origin = request.headers.get(\"origin\");\r\n    const allowOrigin = ALLOW.has(origin) ? origin : \"https://andesaware.com\";\r\n    const cors = {\r\n      \"Access-Control-Allow-Origin\": allowOrigin,\r\n      \"Access-Control-Allow-Methods\": \"GET,POST,OPTIONS\",\r\n      \"Access-Control-Allow-Headers\": \"Content-Type\",\r\n      \"Vary\": \"Origin\",\r\n    };\r\n    if (request.method === \"OPTIONS\") return new Response(null, { headers: cors });\r\n\r\n    // --- landing\r\n    if (path === \"/\") {\r\n      return new Response(\"andesaware api ready\", {\r\n        headers: { \"content-type\": \"text/plain; charset=utf-8\", ...cors }\r\n      });\r\n    }\r\n\r\n    // --- debug echo (see exactly what the device sends)\r\n    if (path.startsWith(\"/api/echo\")) {\r\n      let parsed = null;\r\n      const ct = request.headers.get(\"content-type\") || \"\";\r\n      if (ct.includes(\"application/json\")) parsed = await request.json().catch(() => null);\r\n      else if (ct.includes(\"application/x-www-form-urlencoded\")) {\r\n        const body = new URLSearchParams(await request.text());\r\n        parsed = {};\r\n        body.forEach((v, k) => parsed[k] = v);\r\n      }\r\n      const out = {\r\n        method: request.method,\r\n        url: request.url,\r\n        headers: Object.fromEntries([...request.headers.entries()].slice(0, 200)),\r\n        query: Object.fromEntries(url.searchParams.entries()),\r\n        parsed\r\n      };\r\n      return new Response(JSON.stringify(out, null, 2), {\r\n        headers: { \"content-type\": \"application/json\", ...cors }\r\n      });\r\n    }\r\n\r\n    // --- save raw sample\r\n    const save = async (data) => {\r\n      const ts = Date.now();\r\n      await env.DB.prepare(\"INSERT INTO samples (ts, payload) VALUES (?, ?)\")\r\n        .bind(ts, JSON.stringify(data))\r\n        .run();\r\n      return { ts, data };\r\n    };\r\n\r\n    // --- receiver (Ecowitt / WU compatible)\r\n    if (path.startsWith(\"/api/ecowitt\")) {\r\n      let params = {};\r\n      if (request.method === \"GET\") {\r\n        url.searchParams.forEach((v, k) => (params[k] = v));\r\n      } else if (request.method === \"POST\") {\r\n        const ct = request.headers.get(\"content-type\") || \"\";\r\n        if (ct.includes(\"application/json\")) {\r\n          params = await request.json();\r\n        } else if (ct.includes(\"application/x-www-form-urlencoded\")) {\r\n          const body = new URLSearchParams(await request.text());\r\n          body.forEach((v, k) => (params[k] = v));\r\n        } else {\r\n          return new Response(\"unsupported content-type\", { status: 415, headers: cors });\r\n        }\r\n      } else {\r\n        return new Response(\"method not allowed\", { status: 405, headers: cors });\r\n      }\r\n\r\n      // optional passkey check\r\n      if (env.ECOWITT_PASSKEY && params.passkey !== env.ECOWITT_PASSKEY) {\r\n        return new Response(\"bad passkey\", { status: 401, headers: cors });\r\n      }\r\n\r\n      await save(params);\r\n      return new Response(\"OK\", { headers: cors });\r\n    }\r\n\r\n    // --- latest (SI)\r\n    if (path.startsWith(\"/api/latest\")) {\r\n      const row = await env.DB\r\n        .prepare(\"SELECT ts, payload FROM samples ORDER BY id DESC LIMIT 1\")\r\n        .first();\r\n\r\n      const out = row\r\n        ? { ts: row.ts, ts_local: fmt(row.ts), data: toSI(JSON.parse(row.payload || \"{}\")) }\r\n        : {};\r\n\r\n      return new Response(JSON.stringify(out), {\r\n        headers: { \"content-type\": \"application/json\", ...cors }\r\n      });\r\n    }\r\n\r\n    // --- latest raw\r\n    if (path.startsWith(\"/api/latest_raw\")) {\r\n      const row = await env.DB\r\n        .prepare(\"SELECT ts, payload FROM samples ORDER BY id DESC LIMIT 1\")\r\n        .first();\r\n\r\n      const out = row\r\n        ? { ts: row.ts, ts_local: fmt(row.ts), payload: JSON.parse(row.payload || \"{}\") }\r\n        : {};\r\n\r\n      return new Response(JSON.stringify(out), {\r\n        headers: { \"content-type\": \"application/json\", ...cors }\r\n      });\r\n    }\r\n\r\n    // --- history (SI)  /api/history?hours=24\r\n    if (path.startsWith(\"/api/history\")) {\r\n      const hours = Number(url.searchParams.get(\"hours\") || \"24\");\r\n      const since = Date.now() - hours * 3600 * 1000;\r\n\r\n      const rows = await env.DB\r\n        .prepare(\"SELECT ts, payload FROM samples WHERE ts>=? ORDER BY ts ASC\")\r\n        .bind(since)\r\n        .all();\r\n\r\n      const series = rows.results.map((r) => {\r\n        const raw = JSON.parse(r.payload || \"{}\");\r\n        return { t: r.ts, t_local: fmt(r.ts), ...toSI(raw) };\r\n      });\r\n\r\n      return new Response(JSON.stringify(series), {\r\n        headers: { \"content-type\": \"application/json\", ...cors }\r\n      });\r\n    }\r\n\r\n    // --- history raw\r\n    if (path.startsWith(\"/api/history_raw\")) {\r\n      const hours = Number(url.searchParams.get(\"hours\") || \"24\");\r\n      const since = Date.now() - hours * 3600 * 1000;\r\n\r\n      const rows = await env.DB\r\n        .prepare(\"SELECT ts, payload FROM samples WHERE ts>=? ORDER BY ts ASC\")\r\n        .bind(since)\r\n        .all();\r\n\r\n      const out = rows.results.map((r) => ({\r\n        ts: r.ts,\r\n        ts_local: fmt(r.ts),\r\n        payload: JSON.parse(r.payload || \"{}\"),\r\n      }));\r\n\r\n      return new Response(JSON.stringify(out), {\r\n        headers: { \"content-type\": \"application/json\", ...cors }\r\n      });\r\n    }\r\n\r\n    // --- CSV export (all rows). If you want a window, add ?hours=24\r\n    if (path.startsWith(\"/api/export.csv\")) {\r\n      const hoursParam = url.searchParams.get(\"hours\");\r\n      const rows = hoursParam\r\n        ? await env.DB\r\n            .prepare(\"SELECT ts, payload FROM samples WHERE ts>=? ORDER BY ts ASC\")\r\n            .bind(Date.now() - Number(hoursParam) * 3600 * 1000)\r\n            .all()\r\n        : await env.DB\r\n            .prepare(\"SELECT ts, payload FROM samples ORDER BY ts ASC\")\r\n            .all();\r\n\r\n      const samples = rows.results.map((r) => {\r\n        const raw = JSON.parse(r.payload || \"{}\");\r\n        const si = toSI(raw);\r\n        return {\r\n          ts: r.ts,\r\n          ts_local: fmt(r.ts),\r\n          ...si,            // SI first for convenience\r\n          ...raw,           // raw fields also included\r\n          raw_json: JSON.stringify(raw),\r\n        };\r\n      });\r\n\r\n      // union of keys across all samples\r\n      const keys = Array.from(\r\n        samples.reduce((s, o) => {\r\n          Object.keys(o).forEach((k) => s.add(k));\r\n          return s;\r\n        }, new Set([\"ts\", \"ts_local\"]))\r\n      );\r\n\r\n      const esc = (v) =>\r\n        v == null ? \"\" : String(v).replace(/\"/g, '\"\"').replace(/,/g, \".\"); // protect commas (CSV)\r\n      const csv = [keys.join(\",\"), ...samples.map((s) => keys.map((k) => `\"${esc(s[k])}\"`).join(\",\"))].join(\"\\n\");\r\n\r\n      return new Response(csv, {\r\n        headers: {\r\n          \"content-type\": \"text/csv; charset=utf-8\",\r\n          \"content-disposition\": `attachment; filename=\"ecowitt_full.csv\"`,\r\n          ...cors,\r\n        },\r\n      });\r\n    }\r\n\r\n    return new Response(\"not found\", { status: 404, headers: cors });\r\n  },\r\n\r\n  // cron job (you can keep this hourly in wrangler.toml with a CRON trigger)\r\n  async scheduled(controller, env, ctx) {\r\n    ctx.waitUntil(appendToGitHubCSV(env).catch((e) => console.error(\"archive error\", e)));\r\n  },\r\n};\r\n\r\n/* ---------- helpers (shared by fetch & scheduled) ---------- */\r\n\r\n// DD/MM/YYYY HH:mm (UTC)\r\nfunction fmt(ms) {\r\n  const d = new Date(ms);\r\n  const pad = (n) => String(n).padStart(2, \"0\");\r\n  return `${pad(d.getUTCDate())}/${pad(d.getUTCMonth() + 1)}/${d.getUTCFullYear()} ${pad(d.getUTCHours())}:${pad(d.getUTCMinutes())}`;\r\n}\r\n\r\n// robust numeric helpers + unit conversions\r\nconst num = (v) => (v == null || v === \"\" ? null : Number(v));\r\nconst pick = (o, ...keys) => {\r\n  for (const k of keys) if (o[k] != null) return o[k];\r\n  return null;\r\n};\r\n// Magnus dew point (\u00B0C)\r\nfunction dewpointC(tC, rh) {\r\n  if (tC == null || rh == null) return null;\r\n  const a = 17.62,\r\n    b = 243.12;\r\n  const gamma = (a * tC) / (b + tC) + Math.log(rh / 100);\r\n  return (b * gamma) / (a - gamma);\r\n}\r\n\r\n// Ecowitt/WU \u2192 SI mapping, tolerant to different field names\r\nfunction toSI(d) {\r\n  // outdoor\r\n  const tOutF = num(pick(d, \"tempf\", \"outtempf\"));\r\n  const rhOut = num(pick(d, \"humidity\", \"outhumidity\"));\r\n  const feelsOutF = num(pick(d, \"feelslikef\", \"heatindexf\", \"windchillf\"));\r\n  const dewOutF = num(pick(d, \"dewpointf\"));\r\n\r\n  const tOutC = tOutF != null ? (tOutF - 32) * 5 / 9 : null;\r\n  const feelsOutC = feelsOutF != null ? (feelsOutF - 32) * 5 / 9 : null;\r\n  const dewOutC = dewOutF != null ? (dewOutF - 32) * 5 / 9 : dewpointC(tOutC, rhOut);\r\n\r\n  // indoor\r\n  const tInF = num(pick(d, \"indoortempf\", \"tempinf\"));\r\n  const rhIn = num(pick(d, \"indoorhumidity\", \"humidityin\"));\r\n  const tInC = tInF != null ? (tInF - 32) * 5 / 9 : null;\r\n\r\n  // solar & uv\r\n  const solarWm2 = num(pick(d, \"solarradiation\"));\r\n  const uv = num(pick(d, \"uv\"));\r\n\r\n  // rain (in \u2192 mm), rate (in/hr \u2192 mm/hr)\r\n  const in2mm = (x) => (x == null ? null : Number(x) * 25.4);\r\n  const rate2mm = (x) => (x == null ? null : Number(x) * 25.4);\r\n  const rainRate = rate2mm(pick(d, \"rainratein\"));\r\n  const rainHourly = in2mm(pick(d, \"hourlyrainin\"));\r\n  const rainDaily = in2mm(pick(d, \"dailyrainin\"));\r\n  const rainEvent = in2mm(pick(d, \"eventrainin\"));\r\n  const rain24h = in2mm(pick(d, \"24hourrainin\", \"rain24h_in\", \"rain24hin\"));\r\n  const rainWeekly = in2mm(pick(d, \"weeklyrainin\"));\r\n  const rainMonthly = in2mm(pick(d, \"monthlyrainin\"));\r\n  const rainYearly = in2mm(pick(d, \"yearlyrainin\"));\r\n\r\n  // wind (mph \u2192 m/s)\r\n  const mph2ms = (x) => (x == null ? null : Number(x) * 0.44704);\r\n  const wind = mph2ms(pick(d, \"windspeedmph\"));\r\n  const gust = mph2ms(pick(d, \"windgustmph\"));\r\n  const dir = num(pick(d, \"winddir\"));\r\n  const dir10m = num(pick(d, \"winddir_avg10m\", \"windavgdir\", \"winddir10m\"));\r\n\r\n  // pressure \u2014 prefer hPa fields; else inHg \u2192 hPa\r\n  const inHg2hPa = (x) => (x == null ? null : Number(x) * 33.8639);\r\n  const presRel = num(pick(d, \"baromrelhpa\"));\r\n  const presAbs = num(pick(d, \"baromabshpa\"));\r\n  const presRelHpa = presRel != null ? presRel : inHg2hPa(pick(d, \"baromrelin\"));\r\n  const presAbsHpa = presAbs != null ? presAbs : inHg2hPa(pick(d, \"baromabsin\"));\r\n\r\n  // device\r\n  const heap = num(pick(d, \"heap\"));\r\n  const runtime = num(pick(d, \"runtime\"));\r\n\r\n  return {\r\n    // outdoor\r\n    outdoor_temp_c: tOutC,\r\n    outdoor_feels_like_c: feelsOutC,\r\n    outdoor_dewpoint_c: dewOutC,\r\n    outdoor_humidity_pct: rhOut,\r\n\r\n    // indoor\r\n    indoor_temp_c: tInC,\r\n    indoor_humidity_pct: rhIn,\r\n\r\n    // solar & uv\r\n    solar_wm2: solarWm2,\r\n    uv_index: uv,\r\n\r\n    // rain\r\n    rain_rate_mm_hr: rainRate,\r\n    rain_hourly_mm: rainHourly,\r\n    rain_daily_mm: rainDaily,\r\n    rain_event_mm: rainEvent,\r\n    rain_24h_mm: rain24h,\r\n    rain_weekly_mm: rainWeekly,\r\n    rain_monthly_mm: rainMonthly,\r\n    rain_yearly_mm: rainYearly,\r\n\r\n    // wind\r\n    wind_speed_ms: wind,\r\n    wind_gust_ms: gust,\r\n    wind_dir_deg: dir,\r\n    wind_dir_avg10m_deg: dir10m,\r\n\r\n    // pressure\r\n    pressure_rel_hpa: presRelHpa,\r\n    pressure_abs_hpa: presAbsHpa,\r\n\r\n    // device\r\n    heap_bytes: heap,\r\n    runtime_s: runtime,\r\n\r\n    // marker\r\n    stationtype: d.stationtype ?? null,\r\n  };\r\n}\r\n\r\n// Append all rows to a GitHub CSV (simple appender; may duplicate lines if run often)\r\nasync function appendToGitHubCSV(env) {\r\n  const rows = await env.DB\r\n    .prepare(\"SELECT ts, payload FROM samples ORDER BY ts ASC\")\r\n    .all();\r\n\r\n  if (!rows.results.length) return;\r\n\r\n  const samples = rows.results.map((r) => {\r\n    const raw = JSON.parse(r.payload || \"{}\");\r\n    const si = toSI(raw);\r\n    return {\r\n      ts: r.ts,\r\n      ts_local: fmt(r.ts),\r\n      ...si,\r\n      ...raw,\r\n      raw_json: JSON.stringify(raw),\r\n    };\r\n  });\r\n\r\n  // union keys\r\n  const keys = Array.from(\r\n    samples.reduce((s, o) => {\r\n      Object.keys(o).forEach((k) => s.add(k));\r\n      return s;\r\n    }, new Set([\"ts\", \"ts_local\"]))\r\n  );\r\n\r\n  const esc = (v) =>\r\n    v == null ? \"\" : String(v).replace(/\"/g, '\"\"').replace(/,/g, \".\");\r\n  const newLines = samples.map((s) => keys.map((k) => `\"${esc(s[k])}\"`).join(\",\"));\r\n  const newChunk = newLines.join(\"\\n\") + \"\\n\";\r\n\r\n  const repo = env.GH_REPO;                 // \"owner/repo\"\r\n  const branch = env.GH_BRANCH || \"main\";\r\n  const filepath = \"archives/ecowitt/ecowitt_history.csv\";\r\n  const api = `https://api.github.com/repos/${repo}/contents/${encodeURIComponent(filepath)}`;\r\n  const headers = {\r\n    \"Authorization\": `Bearer ${env.GITHUB_TOKEN}`,\r\n    \"Accept\": \"application/vnd.github+json\",\r\n    \"User-Agent\": \"andesaware-ecowitt-archiver\",\r\n  };\r\n\r\n  // get existing file (if any)\r\n  const get = await fetch(`${api}?ref=${branch}`, { headers });\r\n  let sha, oldContent = \"\";\r\n  if (get.status === 200) {\r\n    const json = await get.json();\r\n    sha = json.sha;\r\n    oldContent = atob(json.content.replace(/\\n/g, \"\"));\r\n  }\r\n\r\n  const contentB64 = btoa(unescape(encodeURIComponent(oldContent + newChunk)));\r\n  const body = { message: `update: ${filepath}`, content: contentB64, branch, ...(sha ? { sha } : {}) };\r\n\r\n  const put = await fetch(api, { method: \"PUT\", headers, body: JSON.stringify(body) });\r\n  if (!put.ok) {\r\n    const txt = await put.text();\r\n    return { ok: false, message: `github put failed ${put.status}: ${txt}`, path: filepath };\r\n  }\r\n  return { ok: true, message: \"appended\", path: filepath };\r\n}\r\n"],
  "mappings": "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",
  "names": []
}
